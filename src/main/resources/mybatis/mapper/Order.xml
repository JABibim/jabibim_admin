<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jabibim.admin.mybatis.mapper.OrderMapper">

  <select id="getOrderByPaymentId" resultType="orderApiVO">
    SELECT o.*, c.course_name, p.payment_status, p.payment_amount, s.student_email, s.student_name
    FROM orders o
           INNER JOIN payment p
                      ON o.payment_id = p.payment_id
           INNER JOIN course c
                      ON o.course_id = c.course_id
           INNER JOIN student s
                      ON o.student_id = s.student_id
    WHERE o.payment_id=#{paymentId}
  </select>


</mapper>